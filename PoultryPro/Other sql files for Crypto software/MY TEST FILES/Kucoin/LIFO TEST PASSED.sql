SELECT * FROM tblEthTransaction WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4'

SELECT * FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' ORDER BY TransactionDate desc

--FIFO TEST STARTED HERE -- IT PASSED PERFECTLY.
SELECT SUM(ShortTermCostBasis),SUM(ShortTermSalesProceed), SUM(ShortTermCapitalGainOrLoss)  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' AND WALLETCODE = 'MmBnb' 
--147.415272814100000	142.966615694110000	-4.448657119990000

SELECT TransactionDate,type, Value, valueUSD, HistoricalPrice, TransactionFeeUSD,ShortTermCostBasis,ShortTermSalesProceed,ShortTermCapitalGainOrLoss  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4'  AND WALLETCODE = 'MmBnb' ORDER BY TransactionDate desc


--Lifo
DECLARE @DIFFDATA AS DECIMAL(18, 7)
--1st
SELECT 0.445963553000000 * 299.150000000000000		--133.40999687995
SET @DIFFDATA = 0.5 - 0.445963553000000
SELECT @DIFFDATA  --0.0540364

--2nd sell
SELECT 0.012899407000000 * 299.150000000000000		--3.85885760405
SET @DIFFDATA = 0.0540364 - 0.012899407000000
SELECT @DIFFDATA  --0.0411370

--3rd SELL
SELECT 0.033917494000000 * 299.15   --10.14641833010000000
SET @DIFFDATA = 0.0411370 - 0.033917494000000
SELECT @DIFFDATA  --0.0072195