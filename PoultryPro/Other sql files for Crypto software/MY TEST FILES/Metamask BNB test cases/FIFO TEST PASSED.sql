
SELECT COUNT(*) FROM tblEthTransaction WHERE ToAddress = '0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45' 


SELECT * FROM tblEthTransaction WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4'

SELECT * FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' ORDER BY TransactionDate asc

--FIFO TEST STARTED HERE -- IT PASSED PERFECTLY.
SELECT SUM(ShortTermCostBasis),SUM(ShortTermSalesProceed), SUM(ShortTermCapitalGainOrLoss)  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' AND WALLETCODE = 'MmBnb' 
--160.173358768160000	142.966615694110000	-17.206743074050000

SELECT TransactionDate,type, Value, valueUSD, HistoricalPrice, TransactionFeeUSD,ShortTermCostBasis,ShortTermSalesProceed,ShortTermCapitalGainOrLoss  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4'  AND WALLETCODE = 'MmBnb' ORDER BY TransactionDate asc


--Fifo
DECLARE @DIFFDATA AS DECIMAL(18, 7)
--1st
SELECT 0.033917494000000 * 325.040000000000000		--11.02454224976
SET @DIFFDATA = 0.900000000000000 - 0.033917494000000
SELECT @DIFFDATA  --0.8660825

--2nd sell
SELECT 0.012899407000000 * 325.04		--4.19282325128000000
SET @DIFFDATA = 0.8660825 - 0.012899407000000
SELECT @DIFFDATA  --0.8531831

--3rd SELL
SELECT 0.445963553000000 * 325.04   --144.95599326712000000
SET @DIFFDATA = 0.8531831 - 0.445963553000000
SELECT @DIFFDATA  --0.4072195
