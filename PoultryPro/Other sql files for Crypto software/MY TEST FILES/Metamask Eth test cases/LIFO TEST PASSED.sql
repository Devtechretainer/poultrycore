
SELECT COUNT(*) FROM tblEthTransaction WHERE ToAddress = '0x68b3465833fb72a70ecdf485e0e4c7bd8665fc45' 


SELECT * FROM tblEthTransaction WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4'

SELECT * FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' ORDER BY TransactionDate asc

--FIFO TEST STARTED HERE -- IT PASSED PERFECTLY.


SELECT SUM(ShortTermCostBasis),SUM(ShortTermSalesProceed), SUM(ShortTermCapitalGainOrLoss)  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' 
--218.155694953794751	203.019476967386122	-15.136217986408628

SELECT TransactionDate,type, Value, valueUSD, HistoricalPrice, TransactionFeeUSD,ShortTermCostBasis,ShortTermSalesProceed,ShortTermCapitalGainOrLoss  
FROM tblTransactionS WHERE userID = 'c48408cc-c3d9-4545-b03e-fd3a028c46c4' ORDER BY TransactionDate DESC
--Fifo
DECLARE @DIFFDATA AS DECIMAL(35, 15)
--1st
SELECT 0.001199999000000 * 3406.480000000000000		--4.087772593520000000000000000000
SET @DIFFDATA = 0.042229955000000 - 0.001199999000000
SELECT @DIFFDATA  --0.041029956000000

--2nd sell
SELECT 0.00093 * 3406.48		--3.1680264
SET @DIFFDATA = 0.0410300 - 0.00093
SELECT @DIFFDATA  -- 0.040099956

--3rd SELL
SELECT 0.040099956 * 3406.48 + (0.054893051787450 - 0.040099956) * 3522.49    --188.70822499077475050
--NOTE: 0.054893051787450 - 0.040099956 = 0.014793095787450
SET @DIFFDATA = 0.02828 - 0.014793095787450
SELECT @DIFFDATA  --0.013486904212550

--4th 
SELECT 0.001860000000000 * 3522.49   --6.55183140000000000
SET @DIFFDATA = 0.013486904212550 - 0.00186
SELECT @DIFFDATA  -- 0.011626904212550

--5th SELL - 0

--6th SELL
SELECT 0.001889995000000 * 3522.49   --6.65748848755000000
SET @DIFFDATA = 0.011626904212550 - 0.001889995000000
SELECT @DIFFDATA  --0.009736909212550

--7th SELL
SELECT 0.001229999000000 * 3522.49   --4.33265917751000000
SET @DIFFDATA = 0.009736909212550 - 0.001229999000000
SELECT @DIFFDATA  --0.008506910212550

--8th SELL
SELECT 0.001320000000000 * 3522.49   --4.64968680000000000
SET @DIFFDATA = 0.008506910212550 - 0.001320000000000
SELECT @DIFFDATA  --0.007186910212550


